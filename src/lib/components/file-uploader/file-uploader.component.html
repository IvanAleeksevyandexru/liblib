<div class="file-uploader" [class.invalid]="invalidDisplayed">
  <sub class="error-label mb-12" *ngIf="errorMessage">{{errorMessage}}</sub>
  <div class="mb-24" *ngFor="let file of files; let i = index;">
    <div class="file">
      <span class="icon {{file.error ? 'err' : extension(file.name)}}"></span>
      {{file.name}}&nbsp;
      <ng-container *ngIf="!file.uploadInProcess">
        <span class="size ml-8" *ngIf="file.size">|&nbsp;&nbsp;{{formatBytes(file.size)}}</span>
        <span class="delete" (click)="remove(i);">Удалить</span>
      </ng-container>
      <ng-container *ngIf="file.uploadInProcess">
        <lib-throbber [size]="'throbber-small'"></lib-throbber>
      </ng-container>
    </div>
    <sub *ngIf="file.error" class="error-label mt-8">
      {{file.error}}
    </sub>
  </div>

  <div class="chose-dnd" libDragAndDrop (filesDropped)="onFilesDropped($event)">
    <p class="text-center mb-12">Перетащите файлы или выберите на компьютере</p>
    <p class="text-center">
      <span class="select-file" (click)="fileInput.click()">
        Выбрать файл
        <input class="file-input" #fileInput [multiple]="multiple" type="file"/>
      </span>
    </p>
  </div>

  <div class="hint mt-4" *ngIf="maxFileSize || fileTypes">
    <ng-container *ngIf="fileTypes">Допустимые форматы файла: <span>{{fileTypes}} </span></ng-container>
    <ng-container *ngIf="maxFileSize">Допустимый размер файла &mdash; до {{formatBytes(maxFileSize)}}</ng-container>
  </div>
</div>
