<div class="flex-container align-items-center search-container" [class.main-page-style]="mainPageStyle" [class]="contextClass" [ngClass]="{'show-field' : showField}">
  <div *ngIf="showField" #searchBox class="search-input">
    <lib-lookup #lookup class="search"
                [placeholder]="placeholder"
                [contextClass]="contextClass"
                [itemsProvider]="searchProvider"
                [queryMinSymbolsCount]="3"
                [maxlength]="400"
                [staticList]="staticList"
                [hideSearchResult]="hideSearchResult"
                [(ngModel)]="searchItem"
                clearInconsistent="ignore"
                [showMagnifyingGlass]="showMagnifyingGlass"
                [clearable]="true"
                [cachedResponse]="cachedResponse"
                [mainPageStyle]="mainPageStyle"
                (opened)="toggleSearch(true)"
                (closed)="toggleSearch(false)"
                (focus)="focusEvent()"
                [converter]="converter"
                (changed)="onSearch()"
                (queryChanged)="searchChangeHandler($event)"
                (input)="toggleMagnifyingGlass()"
                (enterKeyEvent)="emptyResultHandler($event)"
                (listed)="processSearchResult($event)"
                (searchButtonClick)="handleSearchButtonClick()"
                ngDefaultControl>
    </lib-lookup>
    <div class="close-search-popup"></div>
  </div>

  <div *ngIf="hideToIcon"
       (click)="toggleField()"
       [ngClass]="[showField ? 'close-icon' : 'search-icon']"></div>
</div>
