<div class="header merge-header">
  <div class="inner container flex-container justify-between align-items-center">
    <div class="logo-n-type-page-container flex-container align-items-center">
      <div class="catalog-menu-wrap" *ngIf="showBurger">
        <ng-container *ngIf="burgerDemoMode; else burgerCatalogMode">
          <ng-container *ngIf="burgerWithCatalog; else burgerWithoutCatalog">
            <lib-menu-catalog [languageChangeAvailable]="languageChangeAvailable"
                              (menuCatalogOpened)="onMenuCatalogClick($event)">
            </lib-menu-catalog>
          </ng-container>
          <ng-template #burgerWithoutCatalog>
            <lib-menu-catalog-simple
              (menuCatalogOpened)="onMenuCatalogClick($event, true)">
            </lib-menu-catalog-simple>
          </ng-template>
        </ng-container>
        <ng-template #burgerCatalogMode>
          <lib-menu-catalog [languageChangeAvailable]="languageChangeAvailable"
                            (menuCatalogOpened)="onMenuCatalogClick($event)">
          </lib-menu-catalog>
        </ng-template>
      </div>
      <div>
        <lib-logo width="126" [logoHref]="logoHref"></lib-logo>
      </div>
      <div *ngIf="!user.authorized" class="hide show-lg ml-lg-48">
        <div *ngIf="roleChangeAvailable" class="flex-container align-items-center roles-list">
          <span class="user-role" [class.opened]="showRolesList"
                (click)="openRolesList()">{{getRoleName(activeRoleCode)}}</span>

          <div class="list" *ngIf="showRolesList">
            <a *ngFor="let role of userRoles; let first = first"
                class="list-item-wrap"
                [class.active]="role.code === activeRoleCode"
                (click)="updateRole(role.code, role.url)">
              <div class="list-item link-plain"
                  [ngClass]="{'ml-40': !first}">{{role.name}}</div>
            </a>
          </div>
        </div>
      </div>
    </div>
    <div class="avatar-n-location-container flex-container justify-end align-items-center"
          [class.catalog-menu-opened]="menuCatalogOpened">
      <div class="hide show-lg ml-lg-64">
        <lib-location-select skinTheme="empty"></lib-location-select>
      </div>
      <a *ngIf="!user.authorized"
          href="{{loadService.config.betaUrl}}help"
          target="_self"
          class="search-icon hide show-lg ml-lg-20">?
      </a>
      <div class="ml-lg-20">
        <div class="login-wrapper">
          <div class="login flex-container justify-end overflow-container">
            <lib-login [useButton]="true" class="hide"
                        [ngClass]="{'show': user.authorized, 'show-lg': !user.authorized}"
                        [menuOpened]="userMenuState.active"
                        (closeMenu)="hideUserMenu()"
                        (userClick)="showUserMenu(false)"
                        [userCounter]="userCounter">
            </lib-login>
            <lib-login *ngIf="!user.authorized" [onlyText]="true" class="login-mobile-icon"></lib-login>
          </div>
        </div>
        <div class="user-menu-wrapper" *ngIf="user.authorized">
          <lib-user-menu
              #menu
              [searchSputnikEnabled]="searchSputnikEnabled"
              [state]="userMenuState"
              [links]="links"
              [closeStatisticPopup$]="closeStatisticPopup$">
          </lib-user-menu>
        </div>
      </div>
      <div *ngIf="languageChangeAvailable" class="ml-12 hide show-lg">
        <lib-language-select></lib-language-select>
      </div>
    </div>
  </div>
</div>
